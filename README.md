# Auto Milestone Summary Action

A GitHub Action that automatically generates and updates planning issues based on milestones. When a milestone or its issues are updated, this action will create or update a planning issue that summarizes all related issues categorized by labels.

## Features

- 🔄 Automatically monitors milestone changes
- 📋 Categorizes related issues by labels
- 📝 Generates or updates planning summary issues
- 🎨 Supports custom templates for planning issue content
- ✨ Only processes open milestones

## Usage

1. Create a workflow file (e.g., `.github/workflows/milestone-planning.yml`):

```yaml
name: Milestone Planning

on:
  milestone:
    types: [created, edited, deleted]
  issues:
    types: [opened, edited, deleted, transferred, milestoned, demilestoned]

jobs:
  plan:
    runs-on: ubuntu-latest
    steps:
      - name: Generate Milestone Planning
        uses: elliotxx/auto-milestone-summary-action@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          planning_label: planning
          categories: '["bug", "enhancement", "documentation"]'
```

2. The action will create a planning issue that looks like this:

```markdown
# Release v1.0.0 Planning

## Overview
- Total Issues: 5
- Completed: 2
- In Progress: 3
- Due Date: 2025-12-31

## Description
This is our first major release with core features implemented.

## Tasks by Category

### bug (2)
- [x] #1 Fix login page crash
- [ ] #4 Memory leak in dashboard

### enhancement (2)
- [x] #2 Add user authentication
- [ ] #3 Implement dashboard

### documentation (1)
- [ ] #5 Write API documentation

> Auto-generated by Auto Milestone Summary Action
> Last Updated: 2025-01-13 21:20:34
```

## Configuration

### Inputs

| Name | Description | Required | Default |
|------|-------------|----------|---------|
| `token` | GitHub token for API access | Yes | N/A |
| `planning_label` | Label to identify planning issues | No | `planning` |
| `categories` | JSON array of category labels | No | `["bug", "documentation", "enhancement"]` |

### Workflow Examples

1. **Basic Usage** - Monitor milestone and issue changes:
```yaml
name: Milestone Planning
on:
  milestone:
    types: [created, edited, deleted]
  issues:
    types: [milestoned, demilestoned]
jobs:
  plan:
    runs-on: ubuntu-latest
    steps:
      - uses: elliotxx/auto-milestone-summary-action@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
```

2. **Custom Categories** - Use your own issue categories:
```yaml
name: Milestone Planning
on:
  milestone:
    types: [created, edited, deleted]
  issues:
    types: [opened, edited, deleted, transferred, milestoned, demilestoned]
jobs:
  plan:
    runs-on: ubuntu-latest
    steps:
      - uses: elliotxx/auto-milestone-summary-action@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          planning_label: roadmap
          categories: '["critical", "enhancement", "ui/ux", "tech-debt"]'
```

3. **Monitor All Issue Changes** - Update planning on any issue change:
```yaml
name: Milestone Planning
on:
  milestone:
    types: [created, edited, deleted]
  issues:
    types: [opened, edited, deleted, transferred, closed, reopened, assigned, unassigned, labeled, unlabeled, milestoned, demilestoned]
jobs:
  plan:
    runs-on: ubuntu-latest
    steps:
      - uses: elliotxx/auto-milestone-summary-action@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
```

## How It Works

1. When a milestone is created or updated:
   - The action checks if the milestone is open (closed milestones are skipped)
   - Creates a new planning issue or updates an existing one
   - Issues are categorized based on their labels
   - A summary is generated with progress information

2. When an issue is updated:
   - If the issue belongs to an open milestone, the corresponding planning issue is updated
   - The summary reflects the latest state of all issues
   - No action is taken for issues in closed milestones

3. Categories:
   - Issues are categorized based on their labels matching the category names
   - Issues without matching category labels go into "Uncategorized"
   - Each issue appears in the first matching category only
   - By default, uses GitHub's standard labels (`bug`, `enhancement`, `documentation`)

## Best Practices

1. **Label Management**:
   - Use consistent labels that match your categories
   - Consider using GitHub's default labels for better integration
   - Add custom labels only when needed for specific workflows

2. **Milestone Planning**:
   - Add clear descriptions to milestones
   - Set realistic due dates
   - Assign issues to milestones when creating them
   - Close milestones when they are completed to keep your project organized

3. **Workflow Configuration**:
   - Start with the basic workflow and add more event types as needed
   - Use custom categories that match your team's workflow
   - Consider using a dedicated label for planning issues

## License

MIT
